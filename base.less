* { box-sizing: border-box; }
#main {
  align-items: stretch;
  display: flex;
  height: 100%;
}
h3 {
  font-family: Helvetica;
  font-size: 18px;
  i { color: #C09; }
}
#settings { width: 200px; }
#debug,#game {
  flex-grow: 1;
  position: relative;
}
#controls {
  position: absolute;
  bottom: 0;
  left: 0;
  td:first-child { text-align: center; }
}

.ui {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  piece-stack {
    top: 0;
    position: absolute;
    width: 100px;
    &.next_piece { left: 302px; }
    &.piece_stash { left: 0; }
    .piece {
      border: double gray;
      border-width: 0 8px;
      margin: 0 auto;
      width: 80%;
      &:before { /* make square */
        background-position: center;
        background-repeat: no-repeat;
        background-size: 80% auto;
        content: "";
        display: block;
        padding-top: 75%;
      }
      &:last-child {
        border-radius: 0 0 10px 10px;
        border-bottom-width: 8px;
      }
      &:first-child {
        border-radius: 10px !important; /* apparently last-child is stronger than first */
        border-width: 8px;
        width: 100%;
      }
    }
    .piece.p{
      &1, &2, &3, &4, &5 {
        &:before { background-position-x: 0; }
      }
      &6 {
        &:before { background-position-y: -100%; } /* very odd... */
      }
      &7 {
        &:before { background-position-x: -40%; }
      }
    }
  }
}
